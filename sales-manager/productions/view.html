<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Production Batch</title>

    <script
      src="https://kit.fontawesome.com/3d9946f29b.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="../../common/style.css" />
    <link rel="stylesheet" href="../../common/nav.css" />
    <link rel="stylesheet" href="../../common/notify.css" />
    <link rel="stylesheet" href="../user-flow.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/sweetalert2@11.9.0/dist/sweetalert2.min.css"
      rel="stylesheet"
    />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="../../common/func.js"></script>
    <script src="../auth.js"></script>
  </head>

  <body>
    <!-- Loading screen -->
    <div class="loader-wrapper">
      <div class="logo-container">
        <img src="../../common/JOM logo 1.png" alt="" />
      </div>
      <div class="lds-spinner">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>

    <nav class="sidebar"></nav>
    <i class="fa fa-bars" aria-hidden="true"></i>

    <!-- to yard light box starts -->
    <div class="overlay" id="overlay">
      <div class="split1-window split light-box">
        <p class="close-btn1 close-btn do-not">
          <i class="fas fa-xmark"></i>
        </p>
        <div class="split-content">
          <div>
            <p class="category">Virgin Coconut Oil</p>
            <p class="type">1l bottles</p>
            <p class="batch-no">Batch B17</p>
            <div class="charts">
              <div class="progress-container">
                <div class="circular-progress circular-progress-2">
                  <span class="progress-value progress-value-2"></span>
                </div>
              </div>
              <div class="progress-container">
                <div class="circular-progress circular-progress-3">
                  <span class="progress-value progress-value-3"></span>
                </div>
              </div>
            </div>
            <div class="amounts">
              <p class="released-amount"><span>10000</span><br />Bottles</p>
              <p class="remaining-amount">
                Remaining Amount: <br />
                <span>7000</span>
              </p>
            </div>

            <p class="distribute"><button>Distribute Products</button></p>
          </div>
        </div>
      </div>
      <div class="split2-window split light-box">
        <p class="close-btn2 close-btn do-not">
          <i class="fas fa-xmark"></i>
        </p>
        <div class="split-content">
          <div class="distributors">
            <h3 class="distributors-h3">Distributors</h3>
            <button class="save form-button">Save</button>
            <table class="distributors-table overview-tables">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Remaining</th>
                  <th>Add</th>
                  <th>Total</th>
                </tr>
              </thead>

              <tbody class="tbody2"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- to yard light box ends -->

    <section class="home">
      <div class="notification">
        <span class="count">10</span>
        <span class="bell do-not"
          ><i class="fa-regular fa-bell do-not"></i
        ></span>
      </div>

      <div class="notification-window do-not" id="notify"></div>

      <div class="lng-picker">
        <div class="sin">සිං</div>
        <div class="en active">En</div>
      </div>

      <div class="text"></div>

      <div class="production-container salesmg-container">
        <div class="salesmg-heading table-heading">
          <h2 class="salesmg-title">Batch Number</h2>
          <p class="salesmg-text">View production batche details</p>
        </div>

        <div class="production-content">
          <div class="batch-data">
            <div class="batch-data-table">
              <table class="view-production-table overview-tables">
                <!-- <thead></thead> -->
                <tbody>
                  <tr>
                    <td>Batch No</td>
                    <td class="batch-no"></td>
                  </tr>
                  <tr>
                    <td>Current Status</td>
                    <td class="batch-status"></td>
                  </tr>
                  <tr>
                    <td>No of Products</td>
                    <td class="batch-status"></td>
                  </tr>
                  <tr>
                    <td>Created Date</td>
                    <td class="start-date"></td>
                  </tr>
                  <tr>
                    <td>Completed Date</td>
                    <td class="start-date"></td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="progress-container">
              <div class="circular-progress circular-progress-1">
                <span class="progress-value progress-value-1"></span>
                <p class="progress-title">Distributed</p>
              </div>
            </div>
          </div>

          <div class="products-data">
            <h3>Select a Product</h3>
            <table class="products-data-table overview-tables">
              <thead>
                <tr>
                  <th>Category</th>
                  <th>Type</th>
                  <th>Amount</th>
                  <th>Distributed Amount</th>
                  <th>Status</th>
                </tr>
              </thead>

              <tbody class="tbody2">
                <tr class="row">
                  <td>Virgin Coconut Oil</td>
                  <td>1L bottle</td>
                  <td>2000</td>
                  <td>
                    <div class="skill-box">
                      <div class="skill-bar">
                        <span class="skill-per p1">
                          <span class="tooltip">100%</span>
                        </span>
                      </div>
                    </div>
                  </td>
                  <td><button class="completed status">Completed</button></td>
                </tr>
                <tr class="row">
                  <td>Virgin Coconut Oil</td>
                  <td>1L bottle</td>
                  <td>2000</td>
                  <td>
                    <div class="skill-box">
                      <div class="skill-bar">
                        <span class="skill-per p2">
                          <span class="tooltip">70%</span>
                        </span>
                      </div>
                    </div>
                  </td>
                  <td><button class="pending status">Pending</button></td>
                </tr>
                <tr class="row">
                  <td>Virgin Coconut Oil</td>
                  <td>1L bottle</td>
                  <td>2000</td>
                  <td>
                    <div class="skill-box">
                      <div class="skill-bar">
                        <span class="skill-per p3">
                          <span class="tooltip">50%</span>
                        </span>
                      </div>
                    </div>
                  </td>
                  <td><button class="pending status">Pending</button></td>
                </tr>
                <tr class="row">
                  <td>Virgin Coconut Oil</td>
                  <td>1L bottle</td>
                  <td>2000</td>
                  <td>
                    <div class="skill-box">
                      <div class="skill-bar">
                        <span class="skill-per p4">
                          <span class="tooltip">30%</span>
                        </span>
                      </div>
                    </div>
                  </td>
                  <td><button class="pending status">Pending</button></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="back-to-top">
        <i class="fas fa-chevron-up"></i>
      </div>
    </section>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.9.0/dist/sweetalert2.all.min.js"></script>
    <script src="./view.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <script src="../nav/load-nav.js"></script>
    <script src="../notifications/load-notifications.js"></script>
    <script src="../../common/loader.js"></script>
    <script>
      const tbody2 = document.querySelector(".tbody2"),
        rows = document.querySelectorAll(".row"),
        overlay = document.querySelector(".overlay"),
        distribute = document.querySelector(".distribute"),
        closeBtn1 = document.querySelector(".close-btn1"),
        closeBtn2 = document.querySelector(".close-btn2"),
        circularProgress1 = document.querySelector(".circular-progress-1"),
        circularProgress2 = document.querySelector(".circular-progress-2"),
        circularProgress3 = document.querySelector(".circular-progress-3"),
        progressValue1 = document.querySelector(".progress-value-1"),
        progressValue2 = document.querySelector(".progress-value-2"),
        progressValue3 = document.querySelector(".progress-value-3");

      rows.forEach((r) => {
        r.addEventListener("click", () => {
          overlay.style.display = "block";
          document.querySelector(".split1-window").style.display = "block";

          let startValue2 = 0,
            startValue3 = 0,
            endValue2 = 60,
            endValue3 = 75,
            speed = 50;

          let progress2 = setInterval(() => {
            progressValue2.innerHTML = `${startValue2}%`;
            circularProgress2.style.background = `conic-gradient(#bb9056 ${
              startValue2 * 3.6
            }deg, #ededed 0deg)`;
            if (startValue2 == endValue2) clearInterval(progress2);
            startValue2++;
          }, speed);

          let progress3 = setInterval(() => {
            progressValue3.innerHTML = `${startValue3}%`;
            circularProgress3.style.background = `conic-gradient(#bb9056 ${
              startValue3 * 3.6
            }deg, #ededed 0deg)`;
            if (startValue3 == endValue3) clearInterval(progress3);
            startValue3++;
          }, speed);
        });
      });

      overlay.addEventListener("click", (e) => {
        if (e.target.id === "overlay") {
          overlay.style.display = "none";
          document.querySelector(".split1-window").style.display = "none";
          document.querySelector(".split2-window").style.display = "none";
        }
      });

      closeBtn1.addEventListener("click", () => {
        overlay.style.display = "none";
        document.querySelector(".split1-window").style.display = "none";
        document.querySelector(".split2-window").style.display = "none";
      });

      distribute.addEventListener("click", () => {
        document.querySelector(".split2-window").style.display = "block";
      });

      closeBtn2.addEventListener("click", () => {
        document.querySelector(".split2-window").style.display = "none";
      });

      let startValue1 = 0,
        endValue1 = 90,
        speed = 50;

      let progress1 = setInterval(() => {
        progressValue1.textContent =
          `${startValue1}%`;
        circularProgress1.style.background = `conic-gradient(#bb9056 ${
          startValue1 * 3.6
        }deg, #ededed 0deg)`;
        if (startValue1 == endValue1) clearInterval(progress1);
        startValue1++;
      }, speed);
    </script>
  </body>
</html>
